  </main>

  <!-- Footer -->
<footer class="bg-primary text-light mt-auto py-3">
  <div class="text-center">
    &copy; 2025 URL Shortener. All rights reserved.
  </div>
</footer>

  <!-- âš¡ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Copy Button Script -->
  <script>
    document.querySelectorAll(".copy-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        navigator.clipboard.writeText(btn.dataset.url).then(() => {
          btn.innerText = "Copied!";
          btn.classList.remove("btn-outline-primary");
          btn.classList.add("btn-success");

          setTimeout(() => {
            btn.innerText = "Copy";
            btn.classList.remove("btn-success");
            btn.classList.add("btn-outline-primary");
          }, 1200);
        });
      });
    });
  </script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    let chartInstance;

async function openAnalyticsModal(shortId) {
  const res = await fetch(`/url/analytics/${shortId}`);
  const data = await res.json();

  const groupedClicks = {};

  data.analytics.forEach(entry => {
    const date = new Date(entry.timestamp).toLocaleDateString();
    groupedClicks[date] = (groupedClicks[date] || 0) + 1;
  });

  const labels = Object.keys(groupedClicks);
  const values = Object.values(groupedClicks);

  const ctx = document.getElementById("analyticsChart").getContext("2d");

  if (chartInstance) {
    chartInstance.destroy();
  }

  chartInstance = new Chart(ctx, {
    type: "line",
    data: {
      labels,
      datasets: [{
        label: "Clicks per Day",
        data: values,
        borderWidth: 2,
        tension: 0.3
      }]
    }
  });

  new bootstrap.Modal(document.getElementById("analyticsModal")).show();
}

</script>
</body>
</html>
